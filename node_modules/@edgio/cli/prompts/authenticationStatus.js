"use strict";

const os = require('os');
const authenticationStatus = async context => {
  const {
    apiKey,
    currentActor,
    logger
  } = context;
  if (currentActor) {
    if (currentActor.deployToken) {
      logger.success(`ðŸ”‘ Logged in as "${currentActor.name}" deploy token of property "${currentActor.deployToken.property.slug}".${os.EOL}`);
    } else {
      logger.success(`ðŸ”‘ Logged in as "${currentActor.name}".${os.EOL}`);
    }
    return true;
  }
  if (apiKey) {
    logger.error(`ðŸ”‘ Incorrect apiKey.${os.EOL}`);
  } else {
    logger.warn(`ðŸ”‘ You are not logged in.${os.EOL}`);
  }
  return false;
};
module.exports = authenticationStatus;