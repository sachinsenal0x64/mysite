(()=>{"use strict";var e={6903:(e,t,o)=>{function r(e,t){void 0===t&&(t={});for(var o=function(e){for(var t=[],o=0;o<e.length;){var r=e[o];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:o,value:e[o++]});else{var i=1,n="";if("?"===e[c=o+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0==--i){c++;break}}else if("("===e[c]&&(i++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));n+=e[c++]}else n+=e[c++]+e[c++];if(i)throw new TypeError("Unbalanced pattern at ".concat(o));if(!n)throw new TypeError("Missing pattern at ".concat(o));t.push({type:"PATTERN",index:o,value:n}),o=c}else{for(var a="",c=o+1;c<e.length;){var s=e.charCodeAt(c);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=e[c++]}if(!a)throw new TypeError("Missing parameter name at ".concat(o));t.push({type:"NAME",index:o,value:a}),o=c}else t.push({type:"CLOSE",index:o,value:e[o++]});else t.push({type:"OPEN",index:o,value:e[o++]});else t.push({type:"ESCAPED_CHAR",index:o++,value:e[o++]});else t.push({type:"MODIFIER",index:o,value:e[o++]})}return t.push({type:"END",index:o,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,n="[^".concat(s(t.delimiter||"/#?"),"]+?"),a=[],c=0,l=0,d="",u=function(e){if(l<o.length&&o[l].type===e)return o[l++].value},_=function(e){var t=u(e);if(void 0!==t)return t;var r=o[l],i=r.type,n=r.index;throw new TypeError("Unexpected ".concat(i," at ").concat(n,", expected ").concat(e))},E=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};l<o.length;){var f=u("CHAR"),v=u("NAME"),h=u("PATTERN");if(v||h){var p=f||"";-1===i.indexOf(p)&&(d+=p,p=""),d&&(a.push(d),d=""),a.push({name:v||c++,prefix:p,suffix:"",pattern:h||n,modifier:u("MODIFIER")||""})}else{var A=f||u("ESCAPED_CHAR");if(A)d+=A;else if(d&&(a.push(d),d=""),u("OPEN")){p=E();var T=u("NAME")||"",O=u("PATTERN")||"",g=E();_("CLOSE"),a.push({name:T||(O?c++:""),pattern:T&&!O?n:O,prefix:p,suffix:g,modifier:u("MODIFIER")||""})}else _("END")}}return a}function i(e,t){return n(r(e,t),t)}function n(e,t){void 0===t&&(t={});var o=l(t),r=t.encode,i=void 0===r?function(e){return e}:r,n=t.validate,a=void 0===n||n,c=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),o)}));return function(t){for(var o="",r=0;r<e.length;r++){var n=e[r];if("string"!=typeof n){var s=t?t[n.name]:void 0,l="?"===n.modifier||"*"===n.modifier,d="*"===n.modifier||"+"===n.modifier;if(Array.isArray(s)){if(!d)throw new TypeError('Expected "'.concat(n.name,'" to not repeat, but got an array'));if(0===s.length){if(l)continue;throw new TypeError('Expected "'.concat(n.name,'" to not be empty'))}for(var u=0;u<s.length;u++){var _=i(s[u],n);if(a&&!c[r].test(_))throw new TypeError('Expected all "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(_,'"'));o+=n.prefix+_+n.suffix}}else if("string"!=typeof s&&"number"!=typeof s){if(!l){var E=d?"an array":"a string";throw new TypeError('Expected "'.concat(n.name,'" to be ').concat(E))}}else{if(_=i(String(s),n),a&&!c[r].test(_))throw new TypeError('Expected "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(_,'"'));o+=n.prefix+_+n.suffix}}else o+=n}return o}}function a(e,t){var o=[];return c(u(e,o,t),o,t)}function c(e,t,o){void 0===o&&(o={});var r=o.decode,i=void 0===r?function(e){return e}:r;return function(o){var r=e.exec(o);if(!r)return!1;for(var n=r[0],a=r.index,c=Object.create(null),s=function(e){if(void 0===r[e])return"continue";var o=t[e-1];"*"===o.modifier||"+"===o.modifier?c[o.name]=r[e].split(o.prefix+o.suffix).map((function(e){return i(e,o)})):c[o.name]=i(r[e],o)},l=1;l<r.length;l++)s(l);return{path:n,index:a,params:c}}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function l(e){return e&&e.sensitive?"":"i"}function d(e,t,o){void 0===o&&(o={});for(var r=o.strict,i=void 0!==r&&r,n=o.start,a=void 0===n||n,c=o.end,d=void 0===c||c,u=o.encode,_=void 0===u?function(e){return e}:u,E=o.delimiter,f=void 0===E?"/#?":E,v=o.endsWith,h="[".concat(s(void 0===v?"":v),"]|$"),p="[".concat(s(f),"]"),A=a?"^":"",T=0,O=e;T<O.length;T++){var g=O[T];if("string"==typeof g)A+=s(_(g));else{var S=s(_(g.prefix)),C=s(_(g.suffix));if(g.pattern)if(t&&t.push(g),S||C)if("+"===g.modifier||"*"===g.modifier){var R="*"===g.modifier?"?":"";A+="(?:".concat(S,"((?:").concat(g.pattern,")(?:").concat(C).concat(S,"(?:").concat(g.pattern,"))*)").concat(C,")").concat(R)}else A+="(?:".concat(S,"(").concat(g.pattern,")").concat(C,")").concat(g.modifier);else"+"===g.modifier||"*"===g.modifier?A+="((?:".concat(g.pattern,")").concat(g.modifier,")"):A+="(".concat(g.pattern,")").concat(g.modifier);else A+="(?:".concat(S).concat(C,")").concat(g.modifier)}}if(d)i||(A+="".concat(p,"?")),A+=o.endsWith?"(?=".concat(h,")"):"$";else{var N=e[e.length-1],m="string"==typeof N?p.indexOf(N[N.length-1])>-1:void 0===N;i||(A+="(?:".concat(p,"(?=").concat(h,"))?")),m||(A+="(?=".concat(p,"|").concat(h,")"))}return new RegExp(A,l(o))}function u(e,t,o){return e instanceof RegExp?function(e,t){if(!t)return e;for(var o=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=o.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=o.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,o){var r=e.map((function(e){return u(e,t,o).source}));return new RegExp("(?:".concat(r.join("|"),")"),l(o))}(e,t,o):function(e,t,o){return d(r(e,o),t,o)}(e,t,o)}o.r(t),o.d(t,{compile:()=>i,match:()=>a,parse:()=>r,pathToRegexp:()=>u,regexpToFunction:()=>c,tokensToFunction:()=>n,tokensToRegexp:()=>d})},4040:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FAR_FUTURE_TTL=t.DEFLATE_ENCODING=t.GZIP_ENCODING=t.BROTLI_ENCODING=t.IS_BROWSER=t.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT=t.EDGIO_PREFETCH_CDN_SW_PATH=t.EDGIO_PREFETCH_CDN_PATH=t.EDGIO_PREFETCH_CDN_BASE_PATH=t.EDGIO_CACHE_MANIFEST_JS_VAR_NAME=t.EDGIO_CACHE_MANIFEST_PATH=t.EDGIO_IMAGE_OPTIMIZER_PATH=t.HOSTS_NOINDEX_PERMALINK_REGEX=t.ROUTES_NOINDEX_GROUP=t.ROUTES_CATCH_GROUP=t.ROUTES_FALLBACK=t.METHOD_QUERY_PARAM=t.POST_BODY_QUERY_PARAM=t.HEAD_QUERY_PARAM=t.DEVTOOLS_PREFETCH_QUERY_PARAM=t.PREFETCH_TTL_PARAM=t.PREFETCH_QUERY_PARAM=t.THROTTLED_QUERY_PARAM=t.CACHING_DEBUG_CACHEABLE=t.CACHING_DEBUG_STATUS=t.CACHING_DEBUG_HEADERS=t.CACHEABLE_METHODS=t.CACHING_STATUS=t.HTTP_HEADERS=t.HTTP_METHODS=t.JS_BACKEND_HOSTNAME=t.BACKENDS=t.ACTIONS=t.EDGIO_UNCACHED_PREFETCH_STATUS=t.EDGIO_TOO_MANY_HEADERS_STATUS_CODE=t.EDGIO_MAX_USER_HEADERS_ALLOWED=t.EDGIO_CLOUD_FUNCTIONS_HINTS=t.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER=t.EDGIO_HEADERS_PREFIX=t.EDGIO_DEPLOYMENT_TYPE_AWS=t.EDGIO_EDGE_FUNCTION_ENV_VARIABLES=t.EDGIO_ENV_VARIABLES=t.EDGIO_ASSET_ALIASES_FILE=t.EDGIO_CONFIG_FILE=void 0,t.EDGIO_CONFIG_FILE="edgio.config.js",t.EDGIO_ASSET_ALIASES_FILE="asset-aliases.json",t.EDGIO_ENV_VARIABLES={config:"EDGIO_CONFIG",internalConfig:"EDGIO_INTERNAL_CONFIG",deploymentType:"EDGIO_DEPLOYMENT_TYPE",versionOverride:"EDGIO_VERSION_OVERRIDE",productionBuild:"EDGIO_PRODUCTION_BUILD",local:"EDGIO_LOCAL",cache:"EDGIO_CACHE"},t.EDGIO_EDGE_FUNCTION_ENV_VARIABLES={path:"__EDGE_FUNCTION_PATH__",quickjsBytecodeBase64:"__EDGE_FUNCTION_QUICKJS_BYTECODE_BASE64__"},t.EDGIO_DEPLOYMENT_TYPE_AWS="AWS",t.EDGIO_HEADERS_PREFIX="x-edg-",t.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER="x-cloud-functions-hint",t.EDGIO_CLOUD_FUNCTIONS_HINTS={app:"app",compute:"compute",redirect:"redirect",proxy:"proxy"},t.EDGIO_MAX_USER_HEADERS_ALLOWED=70,t.EDGIO_TOO_MANY_HEADERS_STATUS_CODE=542,t.EDGIO_UNCACHED_PREFETCH_STATUS=412,t.ACTIONS={setHeader:"set-header",updateHeader:"update-header",removeHeader:"remove-header",syntheticRes:"synthetic-response",updatePath:"update-path",proxy:"proxy",addCookie:"add-cookie",updateCookie:"update-cookie",removeCookie:"remove-cookie"},t.BACKENDS={js:"__js__",static:"__static__",permanentStatic:"__permanent_static__",imageOptimizer:"__image_optimizer__"},t.JS_BACKEND_HOSTNAME="127.0.0.1",t.HTTP_METHODS={head:"head",get:"get",post:"post",delete:"delete",put:"put",patch:"patch",options:"options"},t.HTTP_HEADERS={acceptEncoding:"accept-encoding",authorization:"authorization",cacheControl:"cache-control",contentEncoding:"content-encoding",contentLength:"content-length",contentType:"content-type",cookie:"cookie",expires:"expires",host:"host",location:"location",range:"range",serverTiming:"server-timing",setCookie:"set-cookie",userAgent:"user-agent",vary:"vary",via:"via",transferEncoding:"transfer-encoding",xEcDebug:"x-ec-debug",xForwardedFor:"x-forwarded-for",xRequestId:"x-request-id",xSwCacheControl:"x-sw-cache-control",xEdgeBrowser:"x-edg-browser",xEdgeCacheControl:"x-edg-cache-control",xEdgeCachingStatus:"x-edg-caching-status",xEdgeClientIp:"x-edg-client-ip",xEdgeComponents:"x-edg-components",xEdgeDestination:"x-edg-destination",xEdgeDevice:"x-edg-device",xEdgeDeviceIsBot:"x-edg-device-is-bot",xEdgeGeoCity:"x-edg-geo-city",xEdgeGeoCountryCode:"x-edg-geo-country-code",xEdgeGeoLatitude:"x-edg-geo-latitude",xEdgeGeoLongitude:"x-edg-geo-longitude",xEdgeGeoPostalCode:"x-edg-geo-postal-code",xEdgeMatchedRoutes:"x-edg-matched-routes",xEdgeProtocol:"x-edg-protocol",xEdgeRoute:"x-edg-route",xEdgeStatus:"x-edg-status",xEdgeSurrogateKey:"x-edg-surrogate-key",xEdgeT:"x-edg-t",xEdgeUserT:"x-edg-user-t",xEdgeVendor:"x-edg-vendor",xEdgeVersion:"x-edg-version",xEdgServerlessError:"x-edg-serverless-error",x0ClientIp:"x-0-client-ip",x0Protocol:"x-0-protocol",x0Version:"x-0-version"},t.CACHING_STATUS={cached:"cached",hit:"hit",bypassed:"bypassed",private:"private",method:"method",bodyTooBig:"body-too-big",code:"code",setCookie:"set-cookie",noMaxAge:"no-max-age"},t.CACHEABLE_METHODS=new Set(["get","head"]),t.CACHING_DEBUG_HEADERS={cache:"x-ec-cache",checkCacheable:"x-ec-check-cacheable",cacheState:"x-ec-cache-state",cacheKey:"x-ec-cache-key"},t.CACHING_DEBUG_STATUS={configNoCache:"CONFIG_NOCACHE",none:"NONE",tcpClientRefreshMiss:"TCP_CLIENT_REFRESH_MISS",tcpExpiredHit:"TCP_EXPIRED_HIT",tcpExpiredMiss:"TCP_EXPIRED_MISS",tcpHit:"TCP_HIT",tcpMiss:"TCP_MISS",tcpPartialHit:"TCP_PARTIAL_HIT",uncacheable:"UNCACHEABLE"},t.CACHING_DEBUG_CACHEABLE={yes:"YES",no:"NO"},t.THROTTLED_QUERY_PARAM="edgio_prefetch",t.PREFETCH_QUERY_PARAM=t.THROTTLED_QUERY_PARAM,t.PREFETCH_TTL_PARAM="edgio_prefetch_ttl",t.DEVTOOLS_PREFETCH_QUERY_PARAM="edgio_dt_pf",t.HEAD_QUERY_PARAM="edgio_head",t.POST_BODY_QUERY_PARAM="pref_edgio_body",t.METHOD_QUERY_PARAM="pref_edgio_method",t.ROUTES_FALLBACK="fallback",t.ROUTES_CATCH_GROUP="catch",t.ROUTES_NOINDEX_GROUP="noindex",t.HOSTS_NOINDEX_PERMALINK_REGEX=/\.edgio\.link|\.edgio-perma\.link/,t.EDGIO_IMAGE_OPTIMIZER_PATH="/__layer0_image_optimizer",t.EDGIO_CACHE_MANIFEST_PATH="/__edgio__/cache-manifest.js",t.EDGIO_CACHE_MANIFEST_JS_VAR_NAME="__EDGIO_CACHE_MANIFEST__",t.EDGIO_PREFETCH_CDN_BASE_PATH="/__edgio__/prefetch",t.EDGIO_PREFETCH_CDN_PATH=`${t.EDGIO_PREFETCH_CDN_BASE_PATH}/:path*`,t.EDGIO_PREFETCH_CDN_SW_PATH="/__edgio__service_worker_:version.js",t.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT="cache-manifest-ignore",t.IS_BROWSER="undefined"!=typeof window,t.BROTLI_ENCODING="br",t.GZIP_ENCODING="gzip",t.DEFLATE_ENCODING="deflate",t.FAR_FUTURE_TTL="1y"},4001:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class o extends Error{constructor(e){super(`Route pattern "${e}" contains invalid syntax. To force exact matching, wrap the path in the 'exact' function.\nSee https://docs.edg.io/guides/performance/cdn_as_code/common_routing_patterns for more information.`),this.isUserError=!0}}t.default=o},2793:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CacheManifest=void 0;const i=o(4040),n=o(3497),a=r(o(5330)),c=r(o(6807));class s{constructor(){this.rules=[]}static from(e){return Object.assign(new s,e)}shouldPrefetch(e){let t={};return new a.default(this.getEvalVariableCallback(e),{onFeaturesVisit:e=>{var o;(null===(o=null==e?void 0:e.comment)||void 0===o?void 0:o.includes(i.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT))||(t=(0,c.default)(t,e,3))}}).visit(this.rules),this.isCacheable(t)}getEvalVariableCallback(e){return t=>{var o;if(t.request){const o=t.request;if("method"===o)return"GET";if("origin_path"===o)return e.pathname;if("path"===o)return e.pathname;if("origin_query_string"===o)return e.search.split("?")[1];if("query"===o)return e.search.split("?")[1];if("querystring"===o)return e.search.split("?")[1];if("scheme"===o)return e.protocol.replace(":","").toUpperCase()}if(t["request.origin_query"])return e.searchParams.get(t["request.origin_query"])||void 0;if(t["request.path"]){const r=t["request.path"];if("filename"===r)return e.pathname.split("/").pop();if("directory"===r)return null===(o=e.pathname.match(/(.*)[/\\]/))||void 0===o?void 0:o[1];if("extension"===r){const t=e.pathname.split(".").pop();return t?`.${t}`:void 0}}}}isCacheable(e){const{caching:t}=e;return Boolean(void 0!==(null==t?void 0:t.max_age)&&(null==t?void 0:t.service_worker_max_age)&&(0,n.fromTimeUnitAbbrev)(t.service_worker_max_age)>0&&!(null==t?void 0:t.bypass_cache))}serialize(){return`self.${i.EDGIO_CACHE_MANIFEST_JS_VAR_NAME}=${JSON.stringify(this)}`}}t.CacheManifest=s},3497:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromTimeUnitAbbrev=void 0,t.fromTimeUnitAbbrev=e=>{var t;const[o,r,i]=null!==(t=e.match(/(\d+)([a-z]+)/i))&&void 0!==t?t:[];return Number(r)*{s:1,h:3600,d:86400,m:86400*30.437,y:31557081.6}[i]}},5330:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.operatorsMap=void 0;const i=r(o(1291)),n=o(3158),a=r(o(7896)),c=r(o(2928));t.operatorsMap={[n.EQUALS]:(e,t)=>e===t,[n.NOT_EQUALS]:(e,t)=>e!==t,[n.EQUALS_EXPRESS]:(e,t)=>{var o;return(0,c.default)(t).test(null!==(o=null==e?void 0:e.toString())&&void 0!==o?o:"")},[n.NOT_EQUALS_EXPRESS]:(e,t)=>{var o;return!(0,c.default)(t).test(null!==(o=null==e?void 0:e.toString())&&void 0!==o?o:"")},[n.LESS_THAN]:(e,t)=>Number(e)<Number(t),[n.LESS_THAN_OR_EQUALS]:(e,t)=>Number(e)<=Number(t),[n.GREATER_THAN]:(e,t)=>Number(e)>Number(t),[n.GREATER_THAN_OR_EQUALS]:(e,t)=>Number(e)>=Number(t),[n.MATCHES]:(e,t)=>{var o;return(0,a.default)(t).test(null!==(o=null==e?void 0:e.toString())&&void 0!==o?o:"")},[n.NOT_MATCHES]:(e,t)=>{var o;return!(0,a.default)(t).test(null!==(o=null==e?void 0:e.toString())&&void 0!==o?o:"")},[n.IN]:(e,t)=>null==t?void 0:t.some((t=>(null==e?void 0:e.toString())===(null==t?void 0:t.toString()))),[n.NOT_IN]:(e,t)=>!(null==t?void 0:t.some((t=>(null==e?void 0:e.toString())===(null==t?void 0:t.toString()))))};class s extends i.default{constructor(e,t={}){super(t),this.evalVariableCallback=e}visitMatches(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onMatchesVisit)||void 0===r||r.call(o,e,t);const i=null==e?void 0:e.if;if(!i)return;let n=0;for(;n<e.if.length;){const o=n,r=n+1,a=n+2,c=a===e.if.length-1,s=i[o];let l=!1;if(this.isConditionals(s))l=this.evalConditionals(s,t);else{if(!this.isBoolean(s))throw new Error(`Unsupported operator "${Object.keys(s).pop()}".`);l=this.evalBoolean(s,t)}if(l?this.visitFeaturesOrRules(i[r],t):c&&this.visitFeaturesOrRules(i[a],t),c)break;n+=2}}evalBoolean(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onBooleanVisit)||void 0===r||r.call(o,e,t);const i=e=>this.isBoolean(e)?this.evalBoolean(e,t):this.evalConditionals(e,t);return e[n.AND]?e[n.AND].every(i):!!e[n.OR]&&e[n.OR].some(i)}evalConditionals(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onConditionalsVisit)||void 0===r||r.call(o,e,t);const i=Object.keys(e);if(1!==i.length)throw new Error(`Conditional statements must contain a single operator. The following operators were found: ${i.join(", ")}`);const[n,a]=Object.entries(e)[0];return this.evalCondition(a,n,t)}evalCondition(e,o,r){var i,n,a;null===(n=null===(i=this.callbacks)||void 0===i?void 0:i.onConditionVisit)||void 0===n||n.call(i,e,o,r);const[c,s]=e.map((e=>this.evalOperand(e)));return null===(a=null===t.operatorsMap||void 0===t.operatorsMap?void 0:t.operatorsMap[o])||void 0===a?void 0:a.call(t.operatorsMap,c,s)}evalOperand(e){return null==e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||Array.isArray(e)?e:this.evalVariableCallback(e)}}t.default=s},1291:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RulesVisitorStop=void 0;const r=o(3158);class i extends Error{}t.RulesVisitorStop=i,t.default=class{constructor(e={}){this.callbacks=e}onRuleVisit(e){this.callbacks.onRuleVisit=e}onMatchesVisit(e){this.callbacks.onMatchesVisit=e}onFeaturesVisit(e){this.callbacks.onFeaturesVisit=e}onConditionalsVisit(e){this.callbacks.onConditionalsVisit=e}onBooleanVisit(e){this.callbacks.onBooleanVisit=e}visit(e,t){try{e.forEach(((e,o)=>this.visitRule(e,null!=t?t:o)))}catch(e){if(e instanceof i)return;throw e}}visitRule(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onRuleVisit)||void 0===r||r.call(o,e,t),this.isMatches(e)?this.visitMatches(e,t):this.visitFeaturesOrRules(e,t)}visitMatches(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onMatchesVisit)||void 0===r||r.call(o,e,t);const i=null==e?void 0:e.if;i&&i.forEach((e=>{this.isConditionals(e)?this.visitConditionals(e,t):this.isBoolean(e)?this.visitBoolean(e,t):this.visitFeaturesOrRules(e,t)}))}visitFeaturesOrRules(e,t){this.isRules(e)?this.visit(e,t):this.visitFeatures(e,t)}visitFeatures(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onFeaturesVisit)||void 0===r||r.call(o,e,t)}visitConditionals(e,t){var o,r;null===(r=null===(o=this.callbacks)||void 0===o?void 0:o.onConditionalsVisit)||void 0===r||r.call(o,e,t),Object.keys(e).forEach((o=>{const r=e[o];this.visitCondition(r,o,t)}))}visitCondition(e,t,o){var r,i;null===(i=null===(r=this.callbacks)||void 0===r?void 0:r.onConditionVisit)||void 0===i||i.call(r,e,t,o)}visitBoolean(e,t){var o,i,n,a;null===(i=null===(o=this.callbacks)||void 0===o?void 0:o.onBooleanVisit)||void 0===i||i.call(o,e,t);const c=e=>{if(this.isBoolean(e))return this.visitBoolean(e,t);this.visitConditionals(e,t)};null===(n=e[r.AND])||void 0===n||n.forEach(c),null===(a=e[r.OR])||void 0===a||a.forEach(c)}isMatches(e){return Object.keys(e).includes("if")}isRules(e){return Array.isArray(e)}isBoolean(e){return[r.AND,r.OR].some((t=>Object.keys(e).includes(t)))}isConditionals(e){return[r.EQUALS_EXPRESS,r.EQUALS,r.NOT_EQUALS_EXPRESS,r.NOT_EQUALS,r.MATCHES,r.NOT_MATCHES,r.GREATER_THAN,r.GREATER_THAN_OR_EQUALS,r.LESS_THAN,r.LESS_THAN_OR_EQUALS,r.IN,r.NOT_IN].some((t=>Object.keys(e).includes(t)))}stop(){throw new i}}},3158:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_IN=t.IN=t.LESS_THAN_OR_EQUALS=t.LESS_THAN=t.GREATER_THAN_OR_EQUALS=t.GREATER_THAN=t.NOT_MATCHES=t.MATCHES=t.NOT_EQUALS=t.NOT_EQUALS_EXPRESS=t.OR=t.AND=t.EQUALS=t.EQUALS_EXPRESS=void 0,t.EQUALS_EXPRESS="==",t.EQUALS="===",t.AND="and",t.OR="or",t.NOT_EQUALS_EXPRESS="!=",t.NOT_EQUALS="!==",t.MATCHES="=~",t.NOT_MATCHES="!~",t.GREATER_THAN=">",t.GREATER_THAN_OR_EQUALS=">=",t.LESS_THAN="<",t.LESS_THAN_OR_EQUALS="<=",t.IN="in",t.NOT_IN="not_in"},7896:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t="g"){return e.startsWith("(?i)")&&(e=e.substring(4),t+="i"),new RegExp(e,t)}},6807:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,o,r=0){let i={...t&&"object"==typeof t?t:{},...o&&"object"==typeof o?o:{}};return 0===r||Object.keys(i).forEach((n=>{const a=t&&t[n],c=o&&o[n];"object"==typeof a&&"object"==typeof c&&(i[n]=e(a,c,r-1))})),i}},2928:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(6903),n=r(o(4001));t.default=function(e){if(!e)return/^.*$/;try{return(0,i.pathToRegexp)(e)}catch(t){throw new n.default(e)}}},5234:function(e,t,o){var r,i,n,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=a(o(9804)),s=o(511),l=o(4040);if("undefined"!=typeof window){window.Edgio={...null!==(r=null===window||void 0===window?void 0:window.Edgio)&&void 0!==r?r:{},prefetch:s.prefetch};const e=document.currentScript,t=Boolean(null!==(i=null==e?void 0:e.getAttribute("data-include-cache-misses"))&&void 0!==i&&i),o=Number(null!==(n=null==e?void 0:e.getAttribute("data-force-prefetch-ratio"))&&void 0!==n?n:0);(0,c.default)({serviceWorkerPath:l.EDGIO_PREFETCH_CDN_SW_PATH.replace(":version","v7.7.0"),includeCacheMisses:t,forcePrefetchRatio:o})}},8726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window.location.hostname}},2485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return navigator.userAgent}},9804:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(511),n=o(6181),a=r(o(1263)),c=r(o(4039)),s=r(o(3967)),l=o(2793),d=r(o(1530)),u={includeCacheMisses:!1,cacheHost:void 0,forcePrefetchRatio:0};t.default=async function(e){e={...u,...e};const{serviceWorker:t}=navigator;if(void 0===t)return;const{prefetchURLs:o,watch:r,serviceWorkerPath:_="/service-worker.js",observe:E,prefetchPatterns:f=[]}=e;await(0,s.default)({cacheHost:e.cacheHost});const v=l.CacheManifest.from(window.__EDGIO_CACHE_MANIFEST__||{});(0,i.configure)({...e}),(0,n.registerServiceWorker)(_),null==o||o.forEach((e=>(0,i.prefetch)(e))),(0,d.default)(v,f,E),(0,a.default)(r),(0,c.default)()}},584:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isSafariPrivateWindow=t.isSafari=void 0;const i=r(o(2485));let n=null;function a(){return null==n&&(n=/^((?!chrome|android).)*safari/i.test((0,i.default)())),n}t.isSafari=a,t.isSafariPrivateWindow=function(){if(!a())return!1;try{return window.openDatabase(null,null,null,null),!1}catch(e){return!0}}},4039:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=o(511);t.default=function(){const{serviceWorker:e}=navigator;void 0===e||window.swEventListenerAdded||(e.addEventListener("message",(e=>{"prefetch"===e.data.action&&(0,r.prefetch)(e.data.url,e.data.as,e.data.options)})),window.swEventListenerAdded=!0)}},3967:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=o(4040);t.default=async function(e){return new Promise((t=>{let o=document.createElement("script");o.type="text/javascript",o.async=!0,o.onload=t,(null==e?void 0:e.cacheHost)?o.src=new URL(`https://${e.cacheHost}${r.EDGIO_CACHE_MANIFEST_PATH}`).toString():o.src=r.EDGIO_CACHE_MANIFEST_PATH,document.getElementsByTagName("head")[0].appendChild(o)}))}},511:function(e,t,o){var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,r,i)}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetch=t.configure=void 0;const c=a(o(8507)),s=o(4040),l=a(o(8726)),d=new Set,u={includeCacheMisses:!1,cacheHost:void 0,forcePrefetchRatio:0};let _=u;function E(e,t,o){const r=e.search.length?"&":"?";e.search+=`${r}${encodeURIComponent(t)}=${encodeURIComponent(o)}`}t.configure=function(e){_={...u,...e}},t.prefetch=async function(e,t="fetch",r={cors:"anonymous",includeCacheMisses:_.includeCacheMisses,forcePrefetchRatio:_.forcePrefetchRatio}){var i,a,u,f,v;if(window.swEventListenerAdded||(await Promise.resolve().then((()=>n(o(4039))))).default(),void 0===e)return void console.error("prefetch() called with an undefined url");r.cors=null!==(i=r.cors)&&void 0!==i?i:"anonymous",r.includeCacheMisses=null!==(u=null!==(a=r.includeCacheMisses)&&void 0!==a?a:_.includeCacheMisses)&&void 0!==u&&u,r.forcePrefetchRatio=null!==(v=null!==(f=r.forcePrefetchRatio)&&void 0!==f?f:_.forcePrefetchRatio)&&void 0!==v?v:0,r.headers&&console.warn("The prefetch `headers` configuration option has been removed as it is not compatible with the service-worker prefetch mechanism. Please set headers in your routes.js file with `setRequestHeader` if required.");const h=function(e,t){const{body:o,method:r,maxAgeSeconds:i}=t,n=new URL(e,window.origin);if(n.hostname===(0,l.default)()){if(_.cacheHost){const e=new URL(`https://${_.cacheHost}`);n.hostname=e.hostname,n.protocol=e.protocol,n.port=e.port}E(n,s.DEVTOOLS_PREFETCH_QUERY_PARAM,"1"),function(e,t){!t.includeCacheMisses&&function(e){return!e.forcePrefetchRatio||Math.random()>e.forcePrefetchRatio}(t)&&E(e,s.THROTTLED_QUERY_PARAM,"1")}(n,t)}return o&&E(n,s.POST_BODY_QUERY_PARAM,o),r&&E(n,s.METHOD_QUERY_PARAM,r),i&&i>0&&E(n,s.PREFETCH_TTL_PARAM,i.toString()),n.toString()}(e,r);if("undefined"!=typeof TextEncoder&&(new TextEncoder).encode(h).length>8192)return void console.warn(`URL is too many characters to prefetch and cache: ${h}`);if(d.has(h)){let e=document.querySelector(`link[href='${h}']`);null==e||e.remove()}d.add(h),await(0,c.default)();const p=document.createElement("link"),{relList:A}=p;p.setAttribute("href",h),r.cors&&p.setAttribute("crossorigin",r.cors),p.setAttribute("rel",A.supports("preload")&&!A.supports("prefetch")?"preload":"prefetch"),p.setAttribute("as",t),document.head.append(p)}},7512:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(511),n=r(o(3531));t.default=function(e){(0,n.default)(e,(e=>{const t=e.getAttribute("href");t&&(0,i.prefetch)(t)}))}},6181:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterServiceWorker=t.registerServiceWorker=void 0;const r=o(584);function i(e,t="./"){navigator.serviceWorker.register(e,{scope:t}).then((e=>{e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{console.log("[edgio service worker] state:",t.state),"installed"===t.state&&(navigator.serviceWorker.controller?document.dispatchEvent(new CustomEvent("sw-update-available")):console.log("Content is cached for offline use."))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}t.registerServiceWorker=function(e){if((0,r.isSafariPrivateWindow)())return console.log("skipping service worker in Safari private window"),void n();"serviceWorker"in navigator&&("complete"===document.readyState?i(e):window.addEventListener("load",(()=>{i(e)})))},t.unregisterServiceWorker=n},3531:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("undefined"==typeof IntersectionObserver)return;const o=new IntersectionObserver((r=>{r[0].intersectionRatio>0&&(o.disconnect(),t(e))}),{threshold:.01});o.observe(e)}},8507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(){if(!navigator.serviceWorker||!navigator.serviceWorker.ready)throw new Error("service worker not supported");return await navigator.serviceWorker.ready,navigator.serviceWorker.controller?navigator.serviceWorker.controller:new Promise(((e,t)=>{navigator.serviceWorker.addEventListener("controllerchange",(()=>{navigator.serviceWorker.controller?e(navigator.serviceWorker.controller):t(new Error("service worker not supported"))}))}))}},1263:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(3531));let n;const a=new Set;function c(e,t){const o=new Set;return Array.from(e).forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const r=e;r.matches(t)?o.add(r):r.querySelectorAll(t).forEach((e=>o.add(e)))}})),o}t.default=function(e){"undefined"!=typeof MutationObserver&&e&&e.length&&(e.forEach((e=>a.add(e))),n||(n=new MutationObserver((e=>{for(let t of e)[...a].forEach((e=>{c(t.addedNodes,e.selector).forEach((t=>(0,i.default)(t,e.callback)))}))}))),n.observe(document.body,{subtree:!0,childList:!0}),e.forEach((e=>{document.querySelectorAll(e.selector).forEach((t=>{const o=t;(0,i.default)(o,e.callback)}))})))}},1530:function(e,t,o){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(7512)),n={disabled:!1,attributes:!1};let a;function c(e,t,o){const r=new Set,i=e=>{const r=e.getAttribute("href");if(!r||"a"!==e.tagName.toLowerCase())return!1;const i=new URL(r,window.location.href);return i.hostname===window.location.hostname&&(!!o.some((e=>e.test(i.pathname)))||t.shouldPrefetch(i))};return Array.from(e).forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e;[t,...Array.from(t.querySelectorAll("a"))].filter(i).forEach((e=>r.add(e)))}})),r}t.default=function(e,t,o){"undefined"!=typeof MutationObserver&&(o={...n,...o},a||(a=new MutationObserver((o=>{for(let r of o)c(r.addedNodes,e,t).forEach(i.default)})),o.disabled||a.observe(document.body,{attributes:o.attributes,childList:!0,subtree:!0})),c(document.querySelectorAll("a"),e,t).forEach(i.default))}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(5234)})();