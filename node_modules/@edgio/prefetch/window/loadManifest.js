"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("@edgio/core/constants");
async function loadManifest(options) {
    return new Promise(resolve => {
        let script = document.createElement('script');
        script.type = 'text/javascript';
        script.async = true;
        script.onload = resolve;
        if (options === null || options === void 0 ? void 0 : options.cacheHost) {
            script.src = new URL(`https://${options.cacheHost}${constants_1.EDGIO_CACHE_MANIFEST_PATH}`).toString();
        }
        else {
            script.src = constants_1.EDGIO_CACHE_MANIFEST_PATH;
        }
        document.getElementsByTagName('head')[0].appendChild(script);
    });
}
exports.default = loadManifest;
