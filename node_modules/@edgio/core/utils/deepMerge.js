"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Deep merge two objects up to specified depth.
 * The passed obj2 properties is overriding the obj1.
 * @example
 * deepMerge({ a: { b: 1 } }, { a: { c: 2 } }, 1) => { a: { b: 1, c: 2 } }
 * deepMerge({ a: 1 }, { a: 2 }, 1) => { a: 2 }
 */
function deepMerge(obj1, obj2, depth = 0) {
    let merged = {
        ...(obj1 && typeof obj1 === 'object' ? obj1 : {}),
        ...(obj2 && typeof obj2 === 'object' ? obj2 : {}),
    };
    if (depth === 0)
        return merged;
    Object.keys(merged).forEach(key => {
        const obj1DeepValue = obj1 && obj1[key];
        const obj2DeepValue = obj2 && obj2[key];
        if (typeof obj1DeepValue === 'object' && typeof obj2DeepValue === 'object') {
            merged[key] = deepMerge(obj1DeepValue, obj2DeepValue, depth - 1);
        }
    });
    return merged;
}
exports.default = deepMerge;
