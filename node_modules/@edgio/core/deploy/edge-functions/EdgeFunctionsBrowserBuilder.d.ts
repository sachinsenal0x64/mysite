/// <reference types="node" />
import EdgeFunctionsBuilder from './EdgeFunctionsBuilder';
import { Router } from '../../router';
/**
 * The edge functions builder for web browser environment.
 * This builder doesn't allow to use imports in edge functions.
 * This builder will insert all edge functions into prebuilt 'edgeFunctionsIndexCodeTemplate' file with sdk and edge functions.
 * The index file is then compiled to QuickJS bytecode.
 */
export default class EdgeFunctionsBrowserBuilder extends EdgeFunctionsBuilder {
    protected readFileImpl: (path: string) => string | Buffer;
    /**
     * @param router The Router
     * @param readFileImpl The function to read file content from filesystem. Can either be fs.readFileSync or mock function.
     */
    constructor(router: Router, readFileImpl: (path: string) => string | Buffer);
    /**
     * Loads the edge function code from the specified file path,
     * finds the 'export async function handleHttpRequest()' and returns
     * the code as string which can later be inserted into edge functions map.
     * The exported function is transformed to variable.
     * @example "export async function handleHttpRequest(..." => "const defaultExport = async function handleHttpRequest(..."
     */
    protected getFunctionCode(srcPath: string, isInitScript: boolean): string;
    /**
     * Returns the code of prebuilt the index code template.
     * In browser environment, the index code template fetched from root path.
     */
    protected getIndexCodeTemplate(): Promise<string>;
    /**
     * Builds the edge functions and returns the compiled bytecode.
     */
    build(): Promise<Buffer | undefined>;
}
