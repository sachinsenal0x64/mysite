"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.esBuildServiceWorker = void 0;
const esbuild_1 = require("esbuild");
async function esBuildServiceWorker(options = {}) {
    // Always exclude fsevents as it cannot be bundled - it's binary.
    const external = ['fsevents'];
    const esBuildDefaults = {
        bundle: true,
        minify: true,
        platform: 'browser',
        target: 'es2016',
        sourcemap: false,
        external,
    };
    await (0, esbuild_1.build)({
        ...esBuildDefaults,
        ...options,
    });
}
exports.esBuildServiceWorker = esBuildServiceWorker;
